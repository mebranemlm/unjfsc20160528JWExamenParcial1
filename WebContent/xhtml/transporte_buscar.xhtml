<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
<title>Buscar Transporte</title>
</h:head>
<h:body>
<h1>Buscar Transporte</h1>

<h:form >
<table border="2" align="center" >
<tr align="center"><td colspan="4"><b><h:outputText value="Busqueda de Transporte" color="red"/></b></td>
</tr>
<tr>
	<td>
		<b><h:outputText value="Ingresar Desc Transporte:"/></b>
	</td>
	<td>
		<h:inputText value="#{TransporteBean.descTransporte}"/>
	</td>
	<td>
		<h:selectOneMenu value="#{TransporteBean.marca.idMarca}" var="cboMarcas" class="ui-selectonemenu-label ui-inputfield ui-corner-all">
			<f:selectItem itemValue="-1" itemLabel="-Todas las Marcas-" />

            <f:selectItems value="#{MarcaBean.list}" var="marcas" itemValue="#{marcas.idMarca}" itemLabel="#{marcas.descMarca}"  />

		</h:selectOneMenu>
	</td>
	<td>
		<h:commandButton value="Buscar" actionListener="#{TransporteBean.readByParameters}" action="TRANSPORTE_BUSCAR"/>
	</td>
</tr>
<tr align="center">
	<td colspan="4">
		<p:dataTable rows="5" var="transportes" value="#{TransporteBean.list}" border="2" paginator="true" >
			<f:facet name="header">
				<h:outputText value="Lista de Transportes"/>
			</f:facet>
			
			<p:column>
				<f:facet name="header"><h:outputText value="ID"/></f:facet>
				<h:outputText value="#{transportes.idTransporte}"></h:outputText>
			</p:column>
			
			<p:column>
			<f:facet name="header">
				<h:outputText value="Tipo"/>
			</f:facet>
			<h:outputText value="#{transportes.tipoTransporte.descTipoTransporte} [#{transportes.tipoTransporte.idTipoTransporte}]"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="Costo"/></f:facet>
				<h:outputText value="#{transportes.costo}"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="Stock"/></f:facet>
				<h:outputText value="#{transportes.stock}"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="Modelo"/></f:facet>
				<h:outputText value="#{transportes.modelo.descModelo} [#{transportes.modelo.idModelo}]"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="Marca"/></f:facet>
				
				<h:outputText value="#{transportes.marca.descMarca} [#{transportes.marca.idMarca}]"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="Acción"/></f:facet>
				
				<p:commandLink value="Eliminar" actionListener="#{TransporteBean.seleccionfila}" onclick="PF('cd').show();">
					<f:attribute name="attr_idTransporte" value="#{transportes.idTransporte}"></f:attribute>
				</p:commandLink>
				
				<p:confirmDialog 
					message="¿Esta seguro de eliminar?" 
					header="Cuadro de confirmacion" 
					severity="alert" 
					widgetVar="cd">					
						<p:commandButton 
							value="SI"
							actionListener="#{TransporteBean.delete2}"  
							ajax="true" 
							update="@form" 
							onclick="PF('cd').hide();"/>										
						<p:commandButton 
							value="NO" 
							onclick="PF('cd').hide();" 
							type="button" />
				</p:confirmDialog>
				
				
			</p:column>
			<f:facet name="footer">
				<h:outputText value="Existen #{TransporteBean.list_size} registros"/>
			</f:facet>
	</p:dataTable>
</td>
</tr>
</table>
</h:form>

<h:form>
<h:commandLink value="Regresar al Inicio" action="PRINCIPAL"></h:commandLink>
</h:form>

<script src="../js/funciones.js"></script>

</h:body>
</html>