<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<h:head>
<title>
<h:outputText value="Registrar Transporte" rendered="#{!TransporteBean.sw_edit}"></h:outputText>
<h:outputText value="Modificar Transporte" rendered="#{TransporteBean.sw_edit}"></h:outputText>
</title>
</h:head>
<h:body>
<center>
<h1>
<h:outputText value="Registrar Transporte" rendered="#{!TransporteBean.sw_edit}"></h:outputText>
<h:outputText value="Modificar Transporte" rendered="#{TransporteBean.sw_edit}"></h:outputText>
</h1>
<h:form>

<table>
	<tr>
		<th>Id Transporte</th>
		<td>
			<h:inputText value="#{TransporteBean.idTransporte}"></h:inputText>
		</td>
	</tr>
	<tr>
		<th>Tipo Transporte</th>
		<td>
			<h:selectOneMenu value="#{TransporteBean.tipoTransporte.idTipoTransporte}" var="cboTipoTransporte" class="ui-selectonemenu-label ui-inputfield ui-corner-all">
				<f:selectItem itemValue="-1" itemLabel="-Seleccionar-" />
            	<f:selectItems value="#{TransporteBean.listTipoTransporte}" var="tiposTransporte" itemValue="#{tiposTransporte.idTipoTransporte}" itemLabel="#{tiposTransporte.descTipoTransporte}"  />
			</h:selectOneMenu>
		</td>
	</tr>
	<tr>
		<th>Desc Transporte</th>
		<td>
			<h:inputText value="#{TransporteBean.descTransporte}"  id="descTransporte" validator="#{TransporteBean.validaDescTransporte}" ></h:inputText>
		</td>
	</tr>
	<tr>
		<th>Costo</th>
		<td>
			<h:inputText value="#{TransporteBean.costo}"></h:inputText>
		</td>
	</tr>
	<tr>
		<th>Stock</th>
		<td>
			<h:inputText value="#{TransporteBean.stock}"></h:inputText>
		</td>
	</tr>
	<tr>
		<th>Modelo</th>
		<td>
			<h:selectOneMenu value="#{TransporteBean.modelo.idModelo}" var="cboModelo" class="ui-selectonemenu-label ui-inputfield ui-corner-all">
				<f:selectItem itemValue="-1" itemLabel="-Seleccionar-" />
            	<f:selectItems value="#{TransporteBean.listModelo}" var="modelos" itemValue="#{modelos.idModelo}" itemLabel="#{modelos.descModelo}"  />
			</h:selectOneMenu>
		</td>
	</tr>
	<tr>
		<th>Marca</th>
		<td>
			<h:selectOneMenu value="#{TransporteBean.marca.idMarca}" var="cboMarca" class="ui-selectonemenu-label ui-inputfield ui-corner-all">
				<f:selectItem itemValue="-1" itemLabel="-Seleccionar-" />
            	<f:selectItems value="#{TransporteBean.listMarca}" var="marcas" itemValue="#{marcas.idMarca}" itemLabel="#{marcas.descMarca}"  />
			</h:selectOneMenu>
		</td>
	</tr>
	<tr>
		<th>Fecha Registro</th>
		<td>
			<p:calendar value="#{TransporteBean.fechaRegistro}" mode="popup"
						popupIconOnly="true" showOn="button" pattern="dd/MM/yyyy">
			</p:calendar>
		</td>
	</tr>
	<tr align="center">
		<td colspan="2">
			<p:commandButton  value="Agregar"
				actionListener="#{TransporteBean.create}" action="PRINCIPAL"
				rendered="#{!TransporteBean.sw_edit}" icon="ui-icon-disk" onclick="start()" update="@form" />
			<p:commandButton  value="Modificar"
				actionListener="#{TransporteBean.update}" action="PRINCIPAL"
				rendered="#{TransporteBean.sw_edit}"  onclick="start()" update="@form" />
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<p:messages for="descTransporte"></p:messages>
		</td>
	</tr>
	
	<tr>
		<td colspan="2">
			<p:progressBar widgetVar="pb" />
		</td>
	</tr>
</table>

<p:commandButton id="upd" type="hidden"  update="@form"  style="display:none"></p:commandButton>

</h:form>

<script type="text/javascript">
function start() {
this.progressInterval = setInterval(function(){
		var val=PF('pb').getValue();
		//console.log(val);
		if(val>=100){
			cancel();
		}else{
			PF('pb').setValue(val + 50);
		}
	}, 2000);
}
function cancel() {
		clearInterval(this.progressInterval);
		PF('pb').setValue(0);
}
</script>


<h:form>
<h:commandLink value="Regresar al Inicio" action="PRINCIPAL"></h:commandLink>

</h:form>
</center>
</h:body>
</html>